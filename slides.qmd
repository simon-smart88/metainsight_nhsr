---
title: "MetaInsight"
subtitle: "An R shiny app for network meta-analysis"
author: "Simon Smart"
format: 
  revealjs:
    logo: images/uol_logo.png
    code-line-numbers: false
    theme: [default, custom.scss]
    width: 1600  
    height: 900
    scale: true
    slide-number: true
    embed-resources: true
date: "14 November 2025"
date-format: "Do MMMM YYYY"
preload-iframes: false
---

## Network meta-analysis can help determine the "best" treatment option

::: columns
::: {.column width="50%"}
<img src= "images/network_plot.svg" >
:::
::: {.column width="50%"}
<img src= "images/ranking_plot.png" >
:::
:::

## Complex reviews require extensive statistical and programming knowledge

- Bewildering R packages:
  - BUGSnet, bnma, coda, gemtc, meta, metafor, netmeta
- Some dependent on JAGS which may be hard to install
- Require data in different formats and use different terminology

## Shiny removes barriers for accessing cutting-edge methods

::: columns
::: {.column width="55%"}
- MetaInsight launched in 2019, has users worldwide and increasing citations and use in CROs
- Originally developed by statisticians, but increasingly in collaboration with developers (Bradbury *et al.* 2024)
:::
::: {.column width="45%"}
```{r echo = FALSE, eval = TRUE, fig.height=10}
Year <- 2020:2025	
Citations <- c(6, 17, 28, 57, 66, 85)
`Cumulative citations` <- cumsum(Citations)

par(cex = 1.5, bg = '#e4fbf8')
plot(Year, `Cumulative citations`, type = "l", col = "darkblue", lwd = 4)
```
:::
:::

::: footer

Adapted from <a href="https://r4ds.hadley.nz/intro" target="_blank">Wickham (2022)</a>
10.1186/s12874-024-02450-9

:::

## 

<img src= "images/metainsight_existing.png" >

## Lack of reproducibility can limit uptake

- {shinyscholar} was forked from {wallace} to make development of reproducible apps easier
- Convert core functionality into functions and package
- The app becomes an interface to the functions, purely focused on interactivity

## Reproducibility relies on a strict structure

- Each module has an id made up of the component and module e.g. `summary_network`
- The module calls a synonymous function `summary_network()`
- Input values are stored in `common$meta$summary_network$<input id>`
- Values are knitted into an .Rmd chunk and combined to create a .qmd

## Reproducibility relies on a strict structure

````markdown
```{{asis, echo = {{summary_network_knit}}, eval = {{summary_network_knit}}, include = {{summary_network_knit}}}}
### Display the networks for the original data and data with excluded studies.
```
```{{asis, echo = {{summary_network_knit}}, eval = {{summary_network_knit}}, include = {{summary_network_knit}}}}
{r,  results = 'asis'}
```
```{{r, echo = {{summary_network_knit}}, include = {{summary_network_knit}}}}
network_style <- {{summary_network_style}}

summary_network_all <- summary_network(frequentist_all, bugsnet_all, network_style, {{summary_network_label_all}}, "Network plot of all studies")
htmltools::HTML(summary_network_all)
```
````

## Reproducibility relies on a strict structure

````markdown
### Display the networks for the original data and data with excluded studies.

```{{r, results = 'asis'}}
network_style <- "netplot"

summary_network_all <- summary_network(frequentist_all, bugsnet_all, network_style, 1, "Network plot of all studies")
htmltools::HTML(summary_network_all$svg)
```
````

## Reproducibility also enables improved reporting
::: columns
::: {.column width="40%"}
- Use as the basis for producing a publication
- Rendered in the app to produce an html report
:::
::: {.column width="60%" style="margin-top: -80px;"}
<img src = "images/report.png" height = 700px>
:::
:::

## Risk of bias

- MetaInsight enables sensitivity analyses by excluding studies
- During reviews, risk of bias information can be collected e.g.
  - Randomisation, blinding, missing data
- Users can now upload these scores and use them to guide sensitivity analyses

## Integration with CiNEMA helps to evaluate
::: columns
::: {.column width="50%"}
- is an app developed to evaluate confidence in NMA results
- Uses risk of bias scores for *studies* to evaluate evidence for *treatments*
- https://cinema.ispm.unibe.ch/ 
- https://doi.org/10.1371/journal.pmed.1003082 
- https://doi.org/10.1002/cl2.1080

:::
::: {.column width="50%"}
<img src= "images/diabetes_netplot.png" >
:::
:::

## Acknowledgments

- Tom Morris, Janion Nevill, Ryan Field, Alex Sutton, Nicola Cooper
- Wellcome
- NIHR
- Chan Zuckerburg Initiative

::: {.column width="50%"}
<div> 
<img src="images/CRSU_logo.png" width="300" style = "display: block;">
<img src="images/nihr_logo.png" width="300" style = "display: block;">
<img src="images/wellcome_logo.png" width="300" style = "display: block;">
</div>
:::

